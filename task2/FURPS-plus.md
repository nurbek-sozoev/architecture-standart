## FURPS+ для MVP открытия депозитов

### Глоссарий

- MVP - Minimum Viable Product
- ИБ - интернет-банк
- ПДн - персональные данные
- АБС - автоматизированная банковская система
- OTP - One‑Time Password
- RBAC - контроль доступа на основе роле (Role‑Based Access Control)
- API - Application Programming Interface
- SLA - Service Level Agreement (соглашение о качестве предоставления сервиса)
- RPO - Recovery Point Objective (показывает, сколько данных компания готова потерять в случае сбоя, измеряется во времени)
- RTO - Recovery Time Objective (показывает, как быстро после сбоя система вернется в рабочее состояние)
- DR - Disaster Recovery (как организация будет восстанавливаться после серьёзного сбоя или катастрофы)
- ЦОД - центр обработки данных (data center)
- KYC - Know Your Customer (идентификация клиента)
- A11y - Accessibility (доступность интерфейсов)
- UI - User Interface (пользовательски интерфейс)
- p95/p99 - 95-й/99-й перцентиль времени отклика
- TLS - Transport Layer Security (криптографический протокол, который обеспечивает защищённую передачу данных)
- MS SQL - Microsoft SQL Server
- Kafka - распределённая платформа потоковой передачи сообщений/очередь журналов

| Код | Требования                                                          | Комментарий                                                                                                                        |
| --- | ------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| F1  | Сайт: просмотр депозитов и подача заявки (телефон, ФИО)             | Список с актуальными ставками; заявка уходит в систему кол-центра                                                                  |
| F2  | Кол-центр: обработка лидов и предложение особых условий             | Менеджер работает в Call-center системе на основе заявки с сайта                                                                   |
| F3  | ИБ: просмотр депозитов и персонализированных ставок                 | Для действующих клиентов ставки персонализируются по данным клиента                                                                |
| F4  | ИБ: подача заявки с указанием счёта и суммы                         | Подтверждение через СМС-OTP; минимальные шаги                                                                                      |
| F5  | СМС-OTP и уведомления                                               | Подтверждение операции и уведомления о ставке/открытии депозита                                                                    |
| F6  | Бэк-офис депозитов: подтверждение условий и открытие депозита в АБС | На этапе MVP - ручная обработка. Cтатус и события уходят клиенту                                                                   |
| F7  | Управление ставками                                                 | Единый источник ставок (минимум импорт из XLS, целевой - каталог в АБС/сервисе); совместная работа двух бэк-офисов                 |
| F8  | Интеграция: сайт -> Call-center system                              | Передача лидов с шифрованием; защита ПДн                                                                                           |
| F9  | Интеграция: ИБ -> сервис депозитов (ИБ) -> АБС                      | Исключаем прямой вызов API АБС из ИБ; буфер/очередь/процесс-оркестратор                                                            |
| F10 | Аудит действий и журналирование интеграций                          | Трассировка заявок, статусов, ошибок                                                                                               |
| F11 | Роли и доступы                                                      | RBAC для ИБ, бэк-офисов и админов                                                                                                  |
| U1  | Время отклика UI - миллисекунды                                     | Цель: <=200 мс p95 для чтения (кеш/предвыборка); оптимизация справочников                                                          |
| U2  | Следование дизайн-системе и бренду                                  | Единые темы/цвета/компоненты                                                                                                       |
| U3  | Простота сценариев                                                  | Сайт - 1 экран/3 поля; ИБ - минимум шагов; понятные статусы                                                                        |
| U4  | Доступность (A11y) и локализация                                    | Фокус/контрасты/aria; RU минимум                                                                                                   |
| R1  | Доступность 24/7, SLA 99,9% для сервисов                            | Процессы ИБ - отказоустойчивы; ABS - ограничение масштабируемости учитываем                                                        |
| R2  | Развязка ИБ и АБС                                                   | Асинхронность/буфер/ограничение нагрузки; circuit breaker, retry, idempotency                                                      |
| R3  | Консистентность                                                     | Eventual consistency между ИБ и АБС; идемпотентные операции; дедупликация                                                          |
| R4  | Резервное копирование и восстановление                              | Для ИБ: RPO <=15 мин, RTO <=30 мин; тест восстановления                                                                            |
| R5  | Доставка СМС                                                        | 99-й перцентиль доставки <=10 с; повтор/fallback сценарии                                                                          |
| P1  | Оптимизация справочников                                            | Устранить задержки >1 с: локальный кеш/материализованные представления                                                             |
| P2  | Ограничение нагрузки на АБС                                         | Троттлинг, очереди, агрегирование, пакетные операции                                                                               |
| P3  | Горизонтальное масштабирование ИБ                                   | Балансировка по серверам/ЦОД; sticky-сессии исключить                                                                              |
| P4  | Мониторинг производительности                                       | p95/p99 latency, throughput, ошибки; алерты                                                                                        |
| S1  | Технологический стек по максимуму существующий                      | MS SQL/Oracle; по очередям - приоритет Kafka на перспективу                                                                        |
| S2  | Совместимость с текущим ИБ                                          | Если Kafka недоступна, использовать адаптер/шлюз/буфер с последующей миграцией на Kafka                                            |
| S3  | Микросервис «Депозиты» в ИБ (ограниченно)                           | Выделение домена только для процесса открытия, API версионируем                                                                    |
| S4  | Документация                                                        | Архитектурные решения, API, события, схемы данных, сценарии отказов                                                                |
| S5  | Наблюдаемость                                                       | Логи, метрики, трассировки; корреляция по id заявки                                                                                |
| S6  | Фичефлаги и конфигурация                                            | Управление включением OTP, каналов нотификаций, персонализаций                                                                     |
| +R1 | Безопасность трафика                                                | TLS 1.2+/1.3 для сайта и ИБ; secure headers                                                                                        |
| +R2 | Защита ПДн                                                          | Шифрование «на диске» для чувствительных полей, маскирование логов, средства криптографической защиты информации при необходимости |
| +R3 | Ограничения по АБС                                                  | Вертикальная масштабируемость; избегаем прямых синхронных вызовов из ИБ                                                            |
| +R4 | СМС-функции в ядре, без доработок подрядчика                        | Реализуем интеграцию силами банка; повторное использование существующего механизма                                                 |
| +R5 | Очереди сообщений                                                   | Предпочтительно Kafka; для MVP - совместимый промежуточный слой/адаптер                                                            |
| +R6 | Идентификация новых клиентов                                        | Только в отделении (KYC); онлайн - заявка/предодобрение                                                                            |
| +R7 | DR и ЦОД                                                            | Основной и резервный ЦОД; целевой - распределение нагрузки; сейчас ИБ - один ЦОД                                                   |
| +R8 | Логи и хранение                                                     | Retention и доступ для аудита/ИБ; токенизация персональных идентификаторов                                                         |
